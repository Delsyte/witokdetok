<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Daftar Film</title>
</head>
<body>
  <h1>Daftar Film</h1>

  <ul id="list"></ul>

  <script>
    const API = "https://raspy-violet-ba97.milikyahya997.workers.dev/api/films";

    async function loadFilms() {
      const res = await fetch(API);
      const films = await res.json();

      const list = document.getElementById("list");

      films.forEach(f => {
        const li = document.createElement("li");

        li.innerHTML = `
          <a href="player.html?title=${encodeURIComponent(f.title)}
          &embed=${encodeURIComponent(f.embed)}">
            ${f.title}
          </a>
        `;

        list.appendChild(li);
      });
    }

    loadFilms();
  </script>
</body>
</html>
